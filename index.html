<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="/glide.core.scss">
    <link rel="stylesheet" href="/glide.theme.scss">
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/glider.css">
    <title>Segmentify</title>
  </head>
  <body>

    <div class="container-fluid">
        <header style="padding: 20px;">
          <h2>Sizin İçin Seçtiklerimiz</h2>
        </header>
      <!--mobil scroll menu start -->
      <div class="col-sm-12 d-block d-lg-none">
        <div id="mobilMenuDiv" class="scrollmenu"></div>
      </div>
      <!--mobil scroll menu end -->
     <div class="row">
        <div class="col-lg-3 d-none d-lg-block">
        <!-- asidebar start -->
          <div id="menuDiv"></div>
        <!-- asidebar end -->
    </div>

    <div class="col-lg-9">    
          <!-- slider start -->
          <div id="slider">
            <div id="x" class="glider-contain">
              <div id="productslider" class="glider">
                  <!-- slider items start -->
                  <!-- <div class="glider-item p-10">
                      <div class="card">
                          <img class="card-img" src="https://blog.koctas.com.tr/wp-content/uploads/2018/03/lokma-takimi-nedir.jpg" alt="">
                          <h6 class="card-title">Wisent 56 Parça El Aleti Seti Takım Çantası</h6>
                          <div class="card-price">159,90 TL</div>
                          <div class="card-shipping">+ Ücretsiz Kargo</div>
                          <button type="button" class="btn btn-primary d-block d-lg-none" id="liveToastBtn" onclick="Toast(this)">Sepete Ekle</button>
                      </div>
                  </div>
                  <div class="glider-item p-10"> <div class="card">1</div></div>-->
                  <!-- slider items end -->
              </div>
              <!-- glider buttons start-->
              <div class="">
                 <button class="glider-prev">&laquo;</button>
              </div>
                 <button class="glider-next">&raquo;</button>
              </div>
              <!-- glider buttons end -->
        </div>
          <!-- slider end -->
      </div>
   </div>
  </div>
</div>
    </div>


    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
      <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <!-- <div class="toast-header"> -->
        <!-- </div> -->
        <div class="toast-body container" style="background-color: black; color: white; border-radius: 10px; padding: 20px;">
          <div class="row">
            <div class="col-2" style="color: green;">
              <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
              </svg>
            </div>
            <div class="col-8">    
               Ürün Sepete Eklendi. <br>
               <span style="color:cornflowerblue">Sepete Git</span> 
            </div> 
            <div class="col-2">
              <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close" style="background-color: #fff; font-size: 15px;">
              </button>
            </div>
        </div>
      </div>
    </div>

    <script src="/glider.js"></script>
    <script src="/glide.js"></script>
    <script src="/index.js"></script>
    
<!--slider start -->
  <script>
    myProductGlider = null;

      function createMyGlider() {    
        /*if (myProductGlider) {
              myProductGlider.updateControls();
              return;
            }*/
        myProductGlider = new Glider(document.querySelector('.glider'), {
          slidesToShow: 1, //'auto',
          slidesToScroll: 1,
          itemWidth: 300,
          draggable: true,
          scrollLock: false,
          dots: '#dots',
          rewind: true,
          arrows: {
              prev: '.glider-prev',
              next: '.glider-next'
          },
          responsive: [
              {
                  breakpoint: 800,
                  settings: {
                      slidesToScroll: 'auto',
                      itemWidth: 400,
                      slidesToShow: 'auto',
                      exactWidth: true
                  }
              },
              {
                  breakpoint: 700,
                  settings: {
                      slidesToScroll: 3,
                      slidesToShow: 3,
                      dots: false,
                      arrows: false,
                  }
              },
              {
                  breakpoint: 600,
                  settings: {
                      slidesToScroll: 3,
                      slidesToShow: 3,
                  }
              },
              {
                  breakpoint: 400,
                  settings: {
                      slidesToScroll: 2,
                      slidesToShow: 2,
                      dots: false,
                      arrows: false,
                      scrollLock: true
                  }
              }
          ]
      });
    }
  </script>
<!--slider end  -->
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script>
        var gliderProductsData =[];
        var categories;
        var category ={};
        var products =[];
        $(function (){
            $.get("product-list.json", function(data){
                  for (let index = 0; index < data.responses.length; index++) {
                      categories = data.responses[0][0].params.userCategories;

                      for (let index = 0; index < categories.length; index++) {
                          category = categories[index];
                          var charIndex = category.lastIndexOf(">");
                          var categoryName = category.slice(charIndex+1);
                          var mobilMenu = $("#mobilMenuDiv");
                          $("#mobilMenuDiv").append('<div class="nav-link inline mobilGreyLine" onclick="mobilActive(this,'+index+')"><a href="#" class="mobilLink"></a>' + categoryName + '</div>');
              
                          $("#menuDiv").append('<div class="menu-box" onclick="active(this,'+ index +')"><div id="link1" class="linkbox"><a class="navlink" href="#">' + categoryName + '</a></div></div>')
                      }
                      gliderProductsData = data.responses[0][0].params.recommendedProducts;
                  }
            });
        });
        function mobilActive(item, categoryIndex){
          createHtmlElements(item, categoryIndex);
          createMyGlider();
        }
        function createHtmlElements(item, categoryIndex) { 
            
            $("#mobilMenuDiv div").removeClass("mobilBlueLine");
             $(item).addClass("mobilBlueLine");

             $("#productslider").remove();
             $("#x").prepend("<div id='productslider' class='glider'></div>");
             
             var categoryname = categories[categoryIndex];
             var products = gliderProductsData[categoryname];
             var productName;
             var productImage;
             var productPriceText;
             var shippingFree;
             for (let index = 0; index < products.length; index++) {
               const product = products[index];
               productName = product.name;
               productImage = product.image;
               productPriceText = product.priceText;
               shippingFree = product.shippingFree;
               var el = $("#productslider").append('<div class="glider-item p-10"><div class="card"><img class="card-img" src="'+ productImage +'" alt=""><h6 class="card-title">'+ productName +'</h6><div class="card-price">'+ productPriceText +'</div><div class="card-shipping">+ Ücretsiz Kargo</div><button type="button" class="btn btn-primary d-block d-lg-none" id="liveToastBtn" onclick="Toast(this)">Sepete Ekle</button></div></div>');
              }
        }        
    </script>
    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>
